Excellent question ğŸ‘
This is **one of the most common sealed-class confusion points** and **very frequently asked in interviews**.

Iâ€™ll explain **step-by-step**, **with rules, code, output, and interview traps**, in very simple words.

---

## 1ï¸âƒ£ Problem Statement (Your Scenario)

You have:

```java
sealed class X permits A, B {}
```

Now you want:

```java
class D extends B {}
```

ğŸ‘‰ **How is this possible?**

---

## 2ï¸âƒ£ The Golden Rule (VERY IMPORTANT â­)

> â— **Only the classes listed in `permits` can directly extend a sealed class.**

So:

* `A` and `B` can extend `X`
* `D` **CANNOT** extend `X` directly

Butâ€¦

---

## 3ï¸âƒ£ The ONLY Way D Can Extend B

ğŸ‘‰ **Class `B` must be `non-sealed`**

This is the key ğŸ”‘

---

## 4ï¸âƒ£ Correct & Legal Solution âœ…

### Step 1: Sealed class X

```java
public sealed class X
        permits A, B {
}
```

---

### Step 2: Class A (closed)

```java
public final class A extends X {
}
```

âœ” No one can extend `A`

---

### Step 3: Class B (OPEN it deliberately)

```java
public non-sealed class B extends X {
}
```

âœ” `non-sealed` re-opens inheritance

---

### Step 4: Class D extends B

```java
public class D extends B {
}
```

âœ… **This works perfectly**

---

## 5ï¸âƒ£ Visual Diagram (Very Helpful ğŸ§ )

```
        X (sealed)
       /          \
   A (final)   B (non-sealed)
                   |
                   |
                D (normal)
```

---

## 6ï¸âƒ£ What If B is NOT non-sealed? âŒ

### Case 1: B is final

```java
public final class B extends X {}
class D extends B {} // âŒ ERROR
```

ğŸ’¥ Error:

```
Cannot inherit from final 'B'
```

---

### Case 2: B is sealed

```java
public sealed class B extends X permits C {}
class D extends B {} // âŒ ERROR
```

ğŸ’¥ Error:

```
Class D is not allowed to extend sealed class B
```

---

## 7ï¸âƒ£ If B is sealed, how can D extend it? ğŸ¤”

ğŸ‘‰ Then **B must explicitly permit D**

```java
public sealed class B
        extends X
        permits C, D {
}
```

```java
public final class D extends B {
}
```

âœ” Valid again

---

## 8ï¸âƒ£ Summary of All Valid Possibilities

| B is declared as | Can D extend B? | Condition                   |
| ---------------- | --------------- | --------------------------- |
| `final`          | âŒ No            | Final blocks inheritance    |
| `sealed`         | âœ… Yes           | Only if `D` is in `permits` |
| `non-sealed`     | âœ… Yes           | No restriction              |

---

## 9ï¸âƒ£ Most Important Interview Line ğŸ’¯

> **A class can extend a permitted subclass of a sealed class only if that subclass is declared `non-sealed`, or if it is sealed and explicitly permits that class.**

---

## ğŸ”Ÿ Tricky Interview Questions (Quick Fire)

### Q1ï¸âƒ£ Can D extend X directly?

âŒ No, unless D is listed in `permits`

---

### Q2ï¸âƒ£ Why does Java enforce this?

âœ” To **control inheritance strictly and predictably**

---

### Q3ï¸âƒ£ Why introduce `non-sealed`?

âœ” To allow **controlled escape** from sealed hierarchy

---

### Q4ï¸âƒ£ Can non-sealed class be extended infinitely?

âœ… Yes, like a normal class

---

### Q5ï¸âƒ£ What is the safest design?

âœ” Sealed â†’ Final (most common)

---

## 1ï¸âƒ£1ï¸âƒ£ Real-Life Analogy ğŸ¦

* `X` = RBI (sealed)
* `B` = Bank (non-sealed)
* `D` = Branch

ğŸ‘‰ RBI controls **banks**, but banks control **branches**

---

## 1ï¸âƒ£2ï¸âƒ£ Final One-Line Answer (Interview Perfect)

> Class `D` can extend class `B` **only if `B` is declared `non-sealed`**, or if `B` itself is sealed and explicitly permits `D`.

---

If you want:
ğŸ‘‰ **More tricky sealed hierarchy scenarios**
ğŸ‘‰ **MCQs + compiler error based questions**
ğŸ‘‰ **Sealed + pattern matching exhaustiveness**

Just say ğŸ‘
